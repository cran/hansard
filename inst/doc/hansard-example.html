<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Evan Odell" />

<meta name="date" content="2016-11-12" />

<title>Hansard Example</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Hansard Example</h1>
<h4 class="author"><em>Evan Odell</em></h4>
<h4 class="date"><em>2016-11-12</em></h4>



<p><code>hansard</code> is an R package to pull data from the UK parliament through the <a href="http://www.data.parliament.uk/" class="uri">http://www.data.parliament.uk/</a> API. It emphasises simplicity and ease of use, so that users unfamiliar with APIs can easily retrieve large volumes of high quality data. Each function accepts a single argument at a time, and functions that require additional information to retrieve the data you requested will ask for it after you execute the function.</p>
<div id="installing-hansard" class="section level2">
<h2>Installing hansard</h2>
<div id="from-cran" class="section level3">
<h3>From CRAN</h3>
<p>install.packages(“hansard”)</p>
</div>
<div id="from-github-development-version" class="section level3">
<h3>From GitHub (Development Version)</h3>
<p>install.packages(“devtools”) devtools::install_github(“EvanOdell/hansard”)</p>
</div>
<div id="load-hansard" class="section level3">
<h3>Load hansard</h3>
<p>library(“hansard”)</p>
</div>
</div>
<div id="using-hansard" class="section level2">
<h2>Using hansard</h2>
<p>There are 24 functions that currently work with the Parliamentary API:</p>
<p><code>all_answered_questions</code></p>
<p><code>bills</code></p>
<p><code>commons_answered_questions</code></p>
<p><code>commons_divisions</code></p>
<p><code>commons_oral_question_times</code></p>
<p><code>commons_oral_questions</code></p>
<p><code>commons_terms</code></p>
<p><code>commons_written_questions</code></p>
<p><code>constituencies</code></p>
<p><code>early_day_motions</code></p>
<p><code>election_results</code></p>
<p><code>elections</code></p>
<p><code>epetition</code></p>
<p><code>lords_ammendments</code></p>
<p><code>lords_attendance</code></p>
<p><code>lords_divisions</code></p>
<p><code>lords_written_questions</code></p>
<p><code>members</code></p>
<p><code>members_search</code></p>
<p><code>papers_laid</code></p>
<p><code>publication_logs</code></p>
<p><code>research_briefings</code></p>
<p><code>sessions_info</code></p>
<p><code>tv_programmes</code></p>
<div id="using-members_search" class="section level3">
<h3>Using members_search</h3>
<p>Looking up information on an individual MP or Lord through the Parliamentary API requires knowing their parliamentary ID number. This can be hard to find on the web, but luckily you can look it up through the API. We want information on the voting record of Labour MP for Hackney North and Stoke Newington Diane Abbott, but we don’t know her ID number, so we search for her:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(hansard)
<span class="kw">members_search</span>(<span class="st">&quot;abbot&quot;</span>)
<span class="co">#&gt;   MP.ID additionalName                      constituency constituencyCode</span>
<span class="co">#&gt; 1   172          Julie Hackney North and Stoke Newington           146966</span>
<span class="co">#&gt; 2  1651      Granville                              &lt;NA&gt;               NA</span>
<span class="co">#&gt; 3  4249           &lt;NA&gt;                      Newton Abbot           147092</span>
<span class="co">#&gt; 4  3827         Edmond                              &lt;NA&gt;               NA</span>
<span class="co">#&gt;   familyName                       fullName gender  givenName</span>
<span class="co">#&gt; 1     Abbott                Ms Diane Abbott Female      Diane</span>
<span class="co">#&gt; 2    Hodgson Lord Hodgson of Astley Abbotts   Male      Robin</span>
<span class="co">#&gt; 3     Morris              Anne Marie Morris Female Anne Marie</span>
<span class="co">#&gt; 4  Neuberger   Lord Neuberger of Abbotsbury   Male      David</span>
<span class="co">#&gt;                            homePage</span>
<span class="co">#&gt; 1     http://www.dianeabbott.org.uk</span>
<span class="co">#&gt; 2                              &lt;NA&gt;</span>
<span class="co">#&gt; 3 http://www.annemariemorris.co.uk/</span>
<span class="co">#&gt; 4       http://www.judiciary.gov.uk</span>
<span class="co">#&gt;                                                      label        party</span>
<span class="co">#&gt; 1                Biography information for Ms Diane Abbott       Labour</span>
<span class="co">#&gt; 2 Biography information for Lord Hodgson of Astley Abbotts         &lt;NA&gt;</span>
<span class="co">#&gt; 3              Biography information for Anne Marie Morris Conservative</span>
<span class="co">#&gt; 4   Biography information for Lord Neuberger of Abbotsbury         &lt;NA&gt;</span>
<span class="co">#&gt;                             twitter</span>
<span class="co">#&gt; 1 https://twitter.com/HackneyAbbott</span>
<span class="co">#&gt; 2                              &lt;NA&gt;</span>
<span class="co">#&gt; 3    https://twitter.com/AMMorrisMP</span>
<span class="co">#&gt; 4                              &lt;NA&gt;</span></code></pre></div>
<p>The search function is not case sensitive, and searchs in the names and constituencies of all MPs and Lords. So even though we spelled her surname incorrectly, we can still find her.</p>
</div>
<div id="using-commons_divisions" class="section level3">
<h3>Using commons_divisions</h3>
<p>The <code>commons_divisions</code> function returns divisions in the House of Commons and the divisions that a member votes no or aye in. The example below returns all Commons Divisions where Diane Abbott voted aye.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">commons_divisions</span>(<span class="st">&quot;aye&quot;</span>)
<span class="co">#&gt; Enter Member ID: 172</span>
<span class="co">#&gt; Retrieving page 1 of 4</span>
<span class="co">#&gt; Retrieving page 2 of 4</span>
<span class="co">#&gt; Retrieving page 3 of 4</span>
<span class="co">#&gt; Retrieving page 4 of 4</span>
<span class="co">#&gt; head(x)</span>
<span class="co">#&gt;  _about                                                              title</span>
<span class="co">#&gt; 1 http://data.parliament.uk/resources/626911                            Opposition Motion: Community Pharmacies</span>
<span class="co">#&gt; 2 http://data.parliament.uk/resources/626953                           Opposition Motion: Police Officer Safety</span>
<span class="co">#&gt; 3 http://data.parliament.uk/resources/621252                                           Opposition Motion: Yemen</span>
<span class="co">#&gt; 4 http://data.parliament.uk/resources/607490 Closure Motion: Sexual Offences (Pardons Etc.) Bill second reading</span>
<span class="co">#&gt; 5 http://data.parliament.uk/resources/582798      Opposition Motion: NHS sustainabiliy and transformation plans</span>
<span class="co">#&gt; 6 http://data.parliament.uk/resources/576587                                Finance Bill: Report Stage Amdt 174</span>
<span class="co">#&gt;                 uin date._value date._datatype</span>
<span class="co">#&gt; 1 CD:2016-11-02:142  2016-11-02       dateTime</span>
<span class="co">#&gt; 2 CD:2016-11-02:143  2016-11-02       dateTime</span>
<span class="co">#&gt; 3 CD:2016-10-26:139  2016-10-26       dateTime</span>
<span class="co">#&gt; 4 CD:2016-10-21:138  2016-10-21       dateTime</span>
<span class="co">#&gt; 5 CD:2016-09-14:134  2016-09-14       dateTime</span>
<span class="co">#&gt; 6 CD:2016-09-06:125  2016-09-06       dateTime</span></code></pre></div>
</div>
<div id="using-research_briefings" class="section level3">
<h3>Using research_briefings</h3>
<p>The function <code>research_briefings</code> is unusual in that it requests names instead of codes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#&gt; x &lt;- research_briefings('topicSubTopic')</span>
<span class="co">#&gt; Sub-topics are case sensititve. To return list of sub-topics, enter yes.</span>
<span class="co">#&gt; Enter sub-topic: yes</span>
<span class="co">#</span>
<span class="co">#&gt; [1] 'Agriculture, animals, food and rural affairs' 'Asylum, immigration and nationality'</span>
<span class="co">#&gt; [3] 'Business, industry and consumers'             'Communities and families'</span>
<span class="co">#&gt; [5] 'Crime, civil law, justice and rights'         'Culture, media and sport'</span>
<span class="co">#&gt; [7] 'Defence'                                      'Economy and finance'</span>
<span class="co">#&gt; [9] 'Education'                                    'Employment and training'</span>
<span class="co">#&gt; [11] 'Energy and environment'                       'European Union'</span>
<span class="co">#&gt; [13] 'Health services and medicine'                 'Housing and planning'</span>
<span class="co">#&gt; [15] 'International affairs'                        'Parliament, government and politics'</span>
<span class="co">#&gt; [17] 'Science and technology'                       'Social Security and pensions'</span>
<span class="co">#&gt; [19] 'Social services'                              'Transport'</span>
<span class="co">#&gt; Enter Topic. For ease of use, copy and paste the topic: Education</span>
<span class="co">#&gt; Sub-topics are case sensititve. To return list of sub-topics, enter yes.</span>
<span class="co">#&gt; Enter sub-topic: yes</span>

<span class="co">#&gt; [1] &quot;Adult education&quot;              &quot;Further education&quot;           </span>
<span class="co">#&gt; [3] &quot;Higher education&quot;             &quot;Local authorities: education&quot;</span>
<span class="co">#&gt; [5] &quot;Ofsted&quot;                       &quot;Pre-school education&quot;        </span>
<span class="co">#&gt; [7] &quot;Schools&quot;                      &quot;Special educational needs&quot;   </span>
<span class="co">#&gt; [9] &quot;Students&quot;                     &quot;Teachers&quot;   </span>
<span class="co">#&gt; Enter sub-topic. For ease of use, copy and paste the sub-topic: Teachers</span></code></pre></div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
